import{a as W}from"./chunk-E7JOIVSA.js";import{a as z,b as L,c as B,d as U,f as R,g as c,h as H}from"./chunk-KHARYPD4.js";import{Ba as g,Bb as k,C,Ca as v,Cb as I,E as O,Ea as w,Ec as j,Fa as S,Fc as F,Ga as f,Ha as i,Ia as n,Ja as d,L as s,Mb as T,Ob as N,Sa as _,Y as p,eb as a,fb as m,ga as r,gb as y,i as h,jb as E,lb as D,q as u,qa as b,s as P,x}from"./chunk-PPNNRZNZ.js";var A=(o,e)=>e.id;function Y(o,e){if(o&1&&(i(0,"span"),a(1),n()),o&2){let t=e.$implicit;r(),m(t.name)}}function q(o,e){if(o&1&&(i(0,"section",0),d(1,"back-button",2),i(2,"div",3),d(3,"image-with-loader",4)(4,"div",5),n(),i(5,"div",6)(6,"div",7),d(7,"image-with-loader",8),n(),i(8,"div",9)(9,"h1"),a(10),n(),i(11,"div",10)(12,"span"),a(13),E(14,"slice"),n(),i(15,"span"),a(16,"\u2022"),n(),i(17,"span"),a(18),n(),i(19,"span"),a(20,"\u2022"),n(),i(21,"span"),a(22),n()(),i(23,"div",11),w(24,Y,2,1,"span",null,A),n(),i(26,"p",12),a(27),n(),i(28,"button",13)(29,"mat-icon"),a(30,"play_arrow"),n(),a(31," Watch Now "),n()()()()),o&2){let t=e,l=_();r(3),f("src",l.getHeroUrl(t.backdrop_path))("placeholderSrc",l.getPosterPlaceholder(t.backdrop_path))("alt",t.title)("placeholder","https://placehold.co/1600x900?text=No+Backdrop")("fit","cover")("aspectRatio","16 / 9"),r(4),f("src",l.getPosterUrl(t.poster_path))("placeholderSrc",l.getPosterPlaceholder(t.poster_path))("alt",t.title)("placeholder","https://placehold.co/400x600?text=No+Poster")("fit","cover"),r(3),m(t.title),r(3),m(D(14,16,t.release_date,0,4)),r(5),y("",t.runtime||"\u2014"," min"),r(4),m(t.vote_average),r(2),S(t.genres),r(3),m(t.overview)}}function G(o,e){o&1&&(i(0,"div",14),d(1,"mat-progress-spinner",16),i(2,"span"),a(3,"Loading movie\u2026"),n()())}function J(o,e){o&1&&(i(0,"div",15)(1,"h4"),a(2,"Movie not available"),n(),i(3,"p"),a(4,"Try going back and selecting another title."),n()())}function K(o,e){if(o&1&&(i(0,"section",1),g(1,G,4,0,"div",14)(2,J,5,0,"div",15),n()),o&2){let t=_();r(),v(t.isLoading()?1:2)}}var $=class o{route=s(T);tmdbService=s(R);router=s(N);movie=p(null);isLoading=p(!1);ngOnInit(){this.route.paramMap.pipe(u(e=>e.has("id")),O(()=>{this.isLoading.set(!0),this.movie.set(null)}),C(e=>this.tmdbService.getMovieDetails(Number(e.get("id"))).pipe(P(()=>(this.router.navigate(["/not-movie-found"]),h)),x(()=>{this.isLoading.set(!1)})))).subscribe(e=>{this.movie.set(e)})}getHeroUrl(e){return c(e,"original")}getPosterUrl(e){return c(e,"w780")}getPosterPlaceholder(e){return c(e,"w92")}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=b({type:o,selectors:[["movies-details-page"]],decls:2,vars:1,consts:[[1,"movie-details"],[1,"movie-details-state"],[1,"movie-details-back"],[1,"movie-details-hero"],[3,"src","placeholderSrc","alt","placeholder","fit","aspectRatio"],[1,"overlay"],[1,"movie-details-content"],[1,"movie-details-poster"],[3,"src","placeholderSrc","alt","placeholder","fit"],[1,"movie-details-info"],[1,"movie-details-meta"],[1,"movie-details-genres"],[1,"movie-details-overview"],["mat-raised-button","",1,"movie-details-watch-now-btn"],[1,"movie-details-loading"],[1,"movie-details-empty"],["mode","indeterminate","diameter","52"]],template:function(t,l){if(t&1&&g(0,q,32,20,"section",0)(1,K,3,1,"section",1),t&2){let M;v((M=l.movie())?0:1,M)}},dependencies:[I,F,j,L,z,U,B,H,W,k],styles:[".movie-details[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;gap:2rem;background:#0f1117;position:relative}.movie-details[_ngcontent-%COMP%]   .movie-details-hero[_ngcontent-%COMP%]{position:relative;height:35vh;min-height:360px;overflow:hidden}.movie-details[_ngcontent-%COMP%]   .movie-details-hero[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;object-fit:cover}.movie-details[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:linear-gradient(180deg,#0f111780 10%,#0f1117 90%)}.movie-details[_ngcontent-%COMP%]   .movie-details-back[_ngcontent-%COMP%]{position:absolute;top:1.5rem;left:1.5rem;z-index:3}.movie-details-state[_ngcontent-%COMP%]{min-height:60vh;display:flex;align-items:center;justify-content:center;padding:32px;color:#e5e7efb3;text-align:center}.movie-details-state[_ngcontent-%COMP%]   .movie-details-loading[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.movie-details-state[_ngcontent-%COMP%]   .movie-details-empty[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.2rem;color:#e5e7ef}.movie-details-state[_ngcontent-%COMP%]   .movie-details-empty[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.movie-details-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(220px,320px) 1fr;gap:2rem;width:min(1100px,100%);margin:-120px auto 2rem;padding:0 1.5rem;position:relative;z-index:1}.movie-details-content[_ngcontent-%COMP%]   .movie-details-poster[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:16px;box-shadow:0 18px 40px #0000008c}.movie-details-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:clamp(2rem,4vw,3.5rem)}.movie-details-info[_ngcontent-%COMP%]   .movie-details-meta[_ngcontent-%COMP%]{display:flex;gap:.6rem;color:#e5e7efbf;margin-bottom:1rem}.movie-details-info[_ngcontent-%COMP%]   .movie-details-genres[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem}.movie-details-info[_ngcontent-%COMP%]   .movie-details-genres[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:.25rem .7rem;border-radius:999px;background:#670d30;color:#e5e7ef;font-size:.85rem}.movie-details-info[_ngcontent-%COMP%]   .movie-details-overview[_ngcontent-%COMP%]{color:#e5e7efd9;line-height:1.6;margin-bottom:1.5rem}.movie-details-info[_ngcontent-%COMP%]   .movie-details-watch-now-btn[_ngcontent-%COMP%]{background-color:#c2185b;color:#e5e7ef;font-weight:700;padding:.75rem 1.5rem;font-size:1rem}.movie-details-info[_ngcontent-%COMP%]   .movie-details-watch-now-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:.5rem}.movie-details-info[_ngcontent-%COMP%]   .movie-details-watch-now-btn[_ngcontent-%COMP%]:hover{background-color:#951246}@media(max-width:900px){.movie-details-content[_ngcontent-%COMP%]{grid-template-columns:1fr;margin-top:-80px}}"],changeDetection:0})};export{$ as MovieDetailsPage};
